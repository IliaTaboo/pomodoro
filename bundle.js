!function(n){var t={};function c(e){if(t[e])return t[e].exports;var r=t[e]={i:e,l:!1,exports:{}};return n[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=n,c.c=t,c.d=function(n,t,e){c.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},c.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},c.t=function(n,t){if(1&t&&(n=c(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(c.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var r in n)c.d(e,r,function(t){return n[t]}.bind(null,r));return e},c.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return c.d(t,"a",t),t},c.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},c.p="",c(c.s=0)}([function(n,t,c){n.exports=c(2)},function(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zdHlsZXMvbWFpbi5zY3NzPzliY2UiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZXh0cmFjdGVkIGJ5IG1pbmktY3NzLWV4dHJhY3QtcGx1Z2luIl0sIm1hcHBpbmdzIjoiQUFBQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1\n")},function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/scripts/registerServiceWorker.js\n/* harmony default export */ var registerServiceWorker = (function () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.register('/pomodoro/sw.js', {scope: '/pomodoro/'});\n  }\n});\n\n// CONCATENATED MODULE: ./src/scripts/storeService.js\nconst SettingsStore = ( () => {\n  if (!localStorage.getItem('sessionLength')) localStorage.setItem('sessionLength', '25');\n  if (!localStorage.getItem('breakLength')) localStorage.setItem('breakLength', '5');\n\n  return {\n    session: function (newDuration) {\n      if (arguments.length) {\n        localStorage.setItem('sessionLength', newDuration);\n      }\n      return Number(localStorage.getItem('sessionLength'));\n    },\n    break: function (newDuration) {\n      if (arguments.length) {\n        localStorage.setItem('breakLength', newDuration);\n      }\n      return Number(localStorage.getItem('breakLength'));\n    },\n  };\n})();\n\n/* harmony default export */ var storeService = (SettingsStore);\n\n// CONCATENATED MODULE: ./src/scripts/observable.js\nfunction observable (value) {\n  const listeners = [];\n\n  function notify (newValue) {\n    listeners.forEach(listener => listener(newValue));\n  }\n\n  function accessor (newValue) {\n    if (arguments.length && newValue !== value) {\n      value = newValue;\n      notify(newValue);\n    }\n    return value;\n  }\n  accessor.subscribe = listener => listeners.push(listener);\n\n  return accessor;\n}\n\n/* harmony default export */ var scripts_observable = (observable);\n\n// CONCATENATED MODULE: ./src/scripts/timeFormat.js\nconst formatTwoDigit = time =>\r\n  String(time).length === 1 ? time = '0' + time : time;\r\n\r\nconst formatTime = inSeconds => {\r\n  const minutes = formatTwoDigit(Math.floor(inSeconds / 60));\r\n  const seconds = formatTwoDigit(inSeconds % 60);\r\n\r\n  return `${minutes}:${seconds}`;\r\n};\n// CONCATENATED MODULE: ./src/scripts/updateSetting.js\n\r\n\r\nfunction updateSessionLengthDisplay (minutes) {\r\n  const display = document.getElementById('session-length');\r\n  display.textContent = formatTwoDigit(minutes);\r\n}\r\n\r\nfunction updateBreakLengthDisplay (minutes) {\r\n  const display = document.getElementById('break-length');\r\n  display.textContent = formatTwoDigit(minutes);\r\n}\r\n\r\nfunction updateSetting (observ, action) {\r\n  switch (action) {\r\n    case 'increment':\r\n      if (observ() !== 60) observ(observ() + 1);\r\n      break;\r\n    case 'decrement':\r\n      if (observ() !== 1) observ(observ() - 1);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/scripts/utils.js\nconst disableBtn = (isDisabled, disableBtnClass, undisableElement) => {\r\n  const $buttons = document.getElementsByClassName(disableBtnClass);\r\n\r\n  for (let i = 0; i < $buttons.length; i++) {\r\n    $buttons[i].disabled = isDisabled;\r\n  }\r\n\r\n  undisableElement.disabled = !isDisabled;\r\n};\n// CONCATENATED MODULE: ./src/scripts/timer.js\n\r\n\r\nfunction Timer (\r\n  $countdownElement\r\n) {\r\n  this.sessionDuration;\r\n  this.breakDuration;\r\n  this.currentTimer = new Pomodoro(this);\r\n  this.setSessionDuration = time => {\r\n    this.sessionDuration = time;\r\n    this.reset();\r\n  };\r\n\r\n  this.setBreakDuration = time => {\r\n    this.breakDuration = time;\r\n    this.reset();\r\n  };\r\n\r\n  this.isRunning = () => this.currentTimer.isRunning;\r\n\r\n  this.toggleTimer = () => {\r\n    if (!this.isRunning()) {\r\n      const nextTimer = (this.currentTimer.type === 'Pomodoro')\r\n        ? new Break(this)\r\n        : new Pomodoro(this);\r\n      this.changeTimer(nextTimer, false);\r\n    }\r\n  };\r\n\r\n  this.changeTimer = (nextTimer, shouldStart = true) => {\r\n    this.currentTimer = nextTimer;\r\n    if (shouldStart) nextTimer.start();\r\n    else this.updateDisplay();\r\n  };\r\n\r\n  this.updateDisplay = () => {\r\n    $countdownElement.textContent = this.currentTimer.time;\r\n    document.title = `${this.currentTimer.time} - Pomodoro`;\r\n  };\r\n\r\n  this.start = () => {\r\n    if (!this.isRunning()) this.currentTimer.start();\r\n  };\r\n\r\n  this.stop = () => {\r\n    const alarm = new Audio('assets/alarm.mp3');\r\n    \r\n    if (this.currentTimer.currentTime === 0) alarm.play();\r\n    this.currentTimer.stop();\r\n  };\r\n\r\n  this.reset = () => {\r\n    if (!this.currentTimer.isRunning) {\r\n      const newTimer = (this.currentTimer.type === 'Pomodoro')\r\n        ? new Pomodoro(this) \r\n        : new Break(this);\r\n      this.changeTimer(newTimer, false);\r\n    }\r\n  };\r\n}\r\n\r\nfunction Pomodoro (timer) {\r\n  this.timer = timer;\r\n  this.type = 'Pomodoro';\r\n  this.isRunning = false;\r\n  this.currentTime = timer.sessionDuration * 60;\r\n  this.time = formatTime(this.currentTime);\r\n\r\n  let timerLoop;\r\n\r\n  this.start = () => {\r\n    this.isRunning = true;\r\n    timerLoop = setInterval(() => {\r\n      if (this.currentTime === 0) {\r\n        timer.stop();\r\n        return;\r\n      }\r\n      this.currentTime--;\r\n      this.time = formatTime(this.currentTime);\r\n      this.timer.updateDisplay();\r\n\r\n    }, 1000);\r\n    document.body.classList.remove('break');\r\n    document.body.classList.add('pomodoro');\r\n  };\r\n\r\n  this.stop = () => {\r\n    this.isRunning = false;\r\n    clearInterval(timerLoop);\r\n    if (this.currentTime === 0) timer.changeTimer(new Break(timer));\r\n  };\r\n}\r\n\r\nfunction Break (timer) {\r\n  this.timer = timer;\r\n  this.type = 'Break';\r\n  this.isRunning = false;\r\n  this.currentTime = timer.breakDuration * 60;\r\n  this.time = formatTime(this.currentTime);\r\n\r\n  let timerLoop;\r\n\r\n  this.start = () => {\r\n    this.isRunning = true;\r\n    timerLoop = setInterval(() => {\r\n      if (this.currentTime === 0) {\r\n        timer.stop();\r\n        return;\r\n      }\r\n      this.currentTime--;\r\n      this.time = formatTime(this.currentTime);\r\n      this.timer.updateDisplay();\r\n\r\n    }, 1000);\r\n    document.body.classList.remove('pomodoro');\r\n    document.body.classList.add('break');\r\n  };\r\n\r\n  this.stop = () => {\r\n    this.isRunning = false;\r\n    clearInterval(timerLoop);\r\n    if (this.currentTime === 0) timer.changeTimer(new Pomodoro(timer));\r\n  };\r\n}\r\n\r\n/* harmony default export */ var scripts_timer = (Timer);\r\n\r\n\n// EXTERNAL MODULE: ./src/styles/main.scss\nvar main = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/scripts/main.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst $timerSettings = Array.from(document.getElementsByClassName('settings-time'));\r\nconst $startBtn = document.getElementById('start');\r\nconst $stopBtn = document.getElementById('stop');\r\nconst $resetBtn = document.getElementById('reset');\r\nconst $timerToggleBtn = document.getElementById('change-timer');\r\nconst $countdownElement = document.getElementById('countdown');\r\n\r\nconst sessionLength = scripts_observable();\r\nconst breakLength = scripts_observable();\r\n\r\nsessionLength.subscribe(updateSessionLengthDisplay);\r\nbreakLength.subscribe(updateBreakLengthDisplay);\r\n\r\nsessionLength.subscribe(storeService.session);\r\nbreakLength.subscribe(storeService.break);\r\n\r\nconst AppTimer = new scripts_timer($countdownElement);\r\n\r\nsessionLength.subscribe(AppTimer.setSessionDuration);\r\nsessionLength(storeService.session());\r\nbreakLength.subscribe(AppTimer.setBreakDuration);\r\nbreakLength(storeService.break());\r\n\r\n$timerSettings.forEach(el => {\r\n  el.addEventListener('click', function (e) {\r\n    if (e.target.nodeName === 'BUTTON' && !AppTimer.isRunning()) {\r\n      switch (this.id) {\r\n        case 'session-setting':\r\n          updateSetting(sessionLength, e.target.classList[0]);\r\n          break;\r\n        case 'break-setting':\r\n          updateSetting(breakLength, e.target.classList[0]);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  });\r\n});\r\n\r\n$startBtn.addEventListener('click', () => {\r\n  AppTimer.start();\r\n  disableBtn(true, 'btn', $stopBtn);\r\n});\r\n\r\n$stopBtn.addEventListener('click', () => {\r\n  AppTimer.stop();\r\n  disableBtn(false, 'btn', $stopBtn);\r\n});\r\n\r\ndocument.addEventListener('keyup', e => {\r\n  if (e.which === 32 && !AppTimer.isRunning()) {\r\n    AppTimer.start();\r\n    disableBtn(true, 'btn', $stopBtn);\r\n  } else if (e.which === 32 && AppTimer.isRunning()) {\r\n    AppTimer.stop();\r\n    disableBtn(false, 'btn', $stopBtn);\r\n  } else if (e.altKey && e.which === 80) {\r\n    AppTimer.toggleTimer();\r\n  } else if (e.altKey && e.which === 82) {\r\n    AppTimer.reset();\r\n  }\r\n});\r\n\r\n$resetBtn.addEventListener('click', () => AppTimer.reset());\r\n$timerToggleBtn.addEventListener('click', () => AppTimer.toggleTimer());\r\n\r\nregisterServiceWorker();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3JlZ2lzdGVyU2VydmljZVdvcmtlci5qcz8yZTQwIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3N0b3JlU2VydmljZS5qcz8yMWM3Iiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL29ic2VydmFibGUuanM/MzI4NiIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy90aW1lRm9ybWF0LmpzPzUyOWIiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdXBkYXRlU2V0dGluZy5qcz8yMmY3Iiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3V0aWxzLmpzP2RiMTMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMvdGltZXIuanM/MTVhNyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLmpzPzI5NjMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuICBpZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xuICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcvcG9tb2Rvcm8vc3cuanMnLCB7c2NvcGU6ICcvcG9tb2Rvcm8vJ30pO1xuICB9XG59XG4iLCJjb25zdCBTZXR0aW5nc1N0b3JlID0gKCAoKSA9PiB7XG4gIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25MZW5ndGgnKSkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25MZW5ndGgnLCAnMjUnKTtcbiAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYnJlYWtMZW5ndGgnKSkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JyZWFrTGVuZ3RoJywgJzUnKTtcblxuICByZXR1cm4ge1xuICAgIHNlc3Npb246IGZ1bmN0aW9uIChuZXdEdXJhdGlvbikge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Nlc3Npb25MZW5ndGgnLCBuZXdEdXJhdGlvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdzZXNzaW9uTGVuZ3RoJykpO1xuICAgIH0sXG4gICAgYnJlYWs6IGZ1bmN0aW9uIChuZXdEdXJhdGlvbikge1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2JyZWFrTGVuZ3RoJywgbmV3RHVyYXRpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnYnJlYWtMZW5ndGgnKSk7XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNldHRpbmdzU3RvcmU7XG4iLCJmdW5jdGlvbiBvYnNlcnZhYmxlICh2YWx1ZSkge1xuICBjb25zdCBsaXN0ZW5lcnMgPSBbXTtcblxuICBmdW5jdGlvbiBub3RpZnkgKG5ld1ZhbHVlKSB7XG4gICAgbGlzdGVuZXJzLmZvckVhY2gobGlzdGVuZXIgPT4gbGlzdGVuZXIobmV3VmFsdWUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFjY2Vzc29yIChuZXdWYWx1ZSkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgIG5vdGlmeShuZXdWYWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBhY2Nlc3Nvci5zdWJzY3JpYmUgPSBsaXN0ZW5lciA9PiBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG5cbiAgcmV0dXJuIGFjY2Vzc29yO1xufVxuXG5leHBvcnQgZGVmYXVsdCBvYnNlcnZhYmxlO1xuIiwiZXhwb3J0IGNvbnN0IGZvcm1hdFR3b0RpZ2l0ID0gdGltZSA9PlxyXG4gIFN0cmluZyh0aW1lKS5sZW5ndGggPT09IDEgPyB0aW1lID0gJzAnICsgdGltZSA6IHRpbWU7XHJcblxyXG5leHBvcnQgY29uc3QgZm9ybWF0VGltZSA9IGluU2Vjb25kcyA9PiB7XHJcbiAgY29uc3QgbWludXRlcyA9IGZvcm1hdFR3b0RpZ2l0KE1hdGguZmxvb3IoaW5TZWNvbmRzIC8gNjApKTtcclxuICBjb25zdCBzZWNvbmRzID0gZm9ybWF0VHdvRGlnaXQoaW5TZWNvbmRzICUgNjApO1xyXG5cclxuICByZXR1cm4gYCR7bWludXRlc306JHtzZWNvbmRzfWA7XHJcbn07IiwiaW1wb3J0IHsgZm9ybWF0VHdvRGlnaXQgfSBmcm9tICcuL3RpbWVGb3JtYXQuanMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNlc3Npb25MZW5ndGhEaXNwbGF5IChtaW51dGVzKSB7XHJcbiAgY29uc3QgZGlzcGxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZXNzaW9uLWxlbmd0aCcpO1xyXG4gIGRpc3BsYXkudGV4dENvbnRlbnQgPSBmb3JtYXRUd29EaWdpdChtaW51dGVzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUJyZWFrTGVuZ3RoRGlzcGxheSAobWludXRlcykge1xyXG4gIGNvbnN0IGRpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWstbGVuZ3RoJyk7XHJcbiAgZGlzcGxheS50ZXh0Q29udGVudCA9IGZvcm1hdFR3b0RpZ2l0KG1pbnV0ZXMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2V0dGluZyAob2JzZXJ2LCBhY3Rpb24pIHtcclxuICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgY2FzZSAnaW5jcmVtZW50JzpcclxuICAgICAgaWYgKG9ic2VydigpICE9PSA2MCkgb2JzZXJ2KG9ic2VydigpICsgMSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSAnZGVjcmVtZW50JzpcclxuICAgICAgaWYgKG9ic2VydigpICE9PSAxKSBvYnNlcnYob2JzZXJ2KCkgLSAxKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICBicmVhaztcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGNvbnN0IGRpc2FibGVCdG4gPSAoaXNEaXNhYmxlZCwgZGlzYWJsZUJ0bkNsYXNzLCB1bmRpc2FibGVFbGVtZW50KSA9PiB7XHJcbiAgY29uc3QgJGJ1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGRpc2FibGVCdG5DbGFzcyk7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgJGJ1dHRvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICRidXR0b25zW2ldLmRpc2FibGVkID0gaXNEaXNhYmxlZDtcclxuICB9XHJcblxyXG4gIHVuZGlzYWJsZUVsZW1lbnQuZGlzYWJsZWQgPSAhaXNEaXNhYmxlZDtcclxufTsiLCJpbXBvcnQgeyBmb3JtYXRUaW1lIH0gZnJvbSAnLi90aW1lRm9ybWF0LmpzJztcclxuXHJcbmZ1bmN0aW9uIFRpbWVyIChcclxuICAkY291bnRkb3duRWxlbWVudFxyXG4pIHtcclxuICB0aGlzLnNlc3Npb25EdXJhdGlvbjtcclxuICB0aGlzLmJyZWFrRHVyYXRpb247XHJcbiAgdGhpcy5jdXJyZW50VGltZXIgPSBuZXcgUG9tb2Rvcm8odGhpcyk7XHJcbiAgdGhpcy5zZXRTZXNzaW9uRHVyYXRpb24gPSB0aW1lID0+IHtcclxuICAgIHRoaXMuc2Vzc2lvbkR1cmF0aW9uID0gdGltZTtcclxuICAgIHRoaXMucmVzZXQoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnNldEJyZWFrRHVyYXRpb24gPSB0aW1lID0+IHtcclxuICAgIHRoaXMuYnJlYWtEdXJhdGlvbiA9IHRpbWU7XHJcbiAgICB0aGlzLnJlc2V0KCk7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5pc1J1bm5pbmcgPSAoKSA9PiB0aGlzLmN1cnJlbnRUaW1lci5pc1J1bm5pbmc7XHJcblxyXG4gIHRoaXMudG9nZ2xlVGltZXIgPSAoKSA9PiB7XHJcbiAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKCkpIHtcclxuICAgICAgY29uc3QgbmV4dFRpbWVyID0gKHRoaXMuY3VycmVudFRpbWVyLnR5cGUgPT09ICdQb21vZG9ybycpXHJcbiAgICAgICAgPyBuZXcgQnJlYWsodGhpcylcclxuICAgICAgICA6IG5ldyBQb21vZG9ybyh0aGlzKTtcclxuICAgICAgdGhpcy5jaGFuZ2VUaW1lcihuZXh0VGltZXIsIGZhbHNlKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICB0aGlzLmNoYW5nZVRpbWVyID0gKG5leHRUaW1lciwgc2hvdWxkU3RhcnQgPSB0cnVlKSA9PiB7XHJcbiAgICB0aGlzLmN1cnJlbnRUaW1lciA9IG5leHRUaW1lcjtcclxuICAgIGlmIChzaG91bGRTdGFydCkgbmV4dFRpbWVyLnN0YXJ0KCk7XHJcbiAgICBlbHNlIHRoaXMudXBkYXRlRGlzcGxheSgpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMudXBkYXRlRGlzcGxheSA9ICgpID0+IHtcclxuICAgICRjb3VudGRvd25FbGVtZW50LnRleHRDb250ZW50ID0gdGhpcy5jdXJyZW50VGltZXIudGltZTtcclxuICAgIGRvY3VtZW50LnRpdGxlID0gYCR7dGhpcy5jdXJyZW50VGltZXIudGltZX0gLSBQb21vZG9yb2A7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy5zdGFydCA9ICgpID0+IHtcclxuICAgIGlmICghdGhpcy5pc1J1bm5pbmcoKSkgdGhpcy5jdXJyZW50VGltZXIuc3RhcnQoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnN0b3AgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBhbGFybSA9IG5ldyBBdWRpbygnYXNzZXRzL2FsYXJtLm1wMycpO1xyXG4gICAgXHJcbiAgICBpZiAodGhpcy5jdXJyZW50VGltZXIuY3VycmVudFRpbWUgPT09IDApIGFsYXJtLnBsYXkoKTtcclxuICAgIHRoaXMuY3VycmVudFRpbWVyLnN0b3AoKTtcclxuICB9O1xyXG5cclxuICB0aGlzLnJlc2V0ID0gKCkgPT4ge1xyXG4gICAgaWYgKCF0aGlzLmN1cnJlbnRUaW1lci5pc1J1bm5pbmcpIHtcclxuICAgICAgY29uc3QgbmV3VGltZXIgPSAodGhpcy5jdXJyZW50VGltZXIudHlwZSA9PT0gJ1BvbW9kb3JvJylcclxuICAgICAgICA/IG5ldyBQb21vZG9ybyh0aGlzKSBcclxuICAgICAgICA6IG5ldyBCcmVhayh0aGlzKTtcclxuICAgICAgdGhpcy5jaGFuZ2VUaW1lcihuZXdUaW1lciwgZmFsc2UpO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFBvbW9kb3JvICh0aW1lcikge1xyXG4gIHRoaXMudGltZXIgPSB0aW1lcjtcclxuICB0aGlzLnR5cGUgPSAnUG9tb2Rvcm8nO1xyXG4gIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgdGhpcy5jdXJyZW50VGltZSA9IHRpbWVyLnNlc3Npb25EdXJhdGlvbiAqIDYwO1xyXG4gIHRoaXMudGltZSA9IGZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSk7XHJcblxyXG4gIGxldCB0aW1lckxvb3A7XHJcblxyXG4gIHRoaXMuc3RhcnQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICB0aW1lckxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID09PSAwKSB7XHJcbiAgICAgICAgdGltZXIuc3RvcCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lLS07XHJcbiAgICAgIHRoaXMudGltZSA9IGZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSk7XHJcbiAgICAgIHRoaXMudGltZXIudXBkYXRlRGlzcGxheSgpO1xyXG5cclxuICAgIH0sIDEwMDApO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdicmVhaycpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdwb21vZG9ybycpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuc3RvcCA9ICgpID0+IHtcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBjbGVhckludGVydmFsKHRpbWVyTG9vcCk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VGltZSA9PT0gMCkgdGltZXIuY2hhbmdlVGltZXIobmV3IEJyZWFrKHRpbWVyKSk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gQnJlYWsgKHRpbWVyKSB7XHJcbiAgdGhpcy50aW1lciA9IHRpbWVyO1xyXG4gIHRoaXMudHlwZSA9ICdCcmVhayc7XHJcbiAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICB0aGlzLmN1cnJlbnRUaW1lID0gdGltZXIuYnJlYWtEdXJhdGlvbiAqIDYwO1xyXG4gIHRoaXMudGltZSA9IGZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSk7XHJcblxyXG4gIGxldCB0aW1lckxvb3A7XHJcblxyXG4gIHRoaXMuc3RhcnQgPSAoKSA9PiB7XHJcbiAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICB0aW1lckxvb3AgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgIGlmICh0aGlzLmN1cnJlbnRUaW1lID09PSAwKSB7XHJcbiAgICAgICAgdGltZXIuc3RvcCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmN1cnJlbnRUaW1lLS07XHJcbiAgICAgIHRoaXMudGltZSA9IGZvcm1hdFRpbWUodGhpcy5jdXJyZW50VGltZSk7XHJcbiAgICAgIHRoaXMudGltZXIudXBkYXRlRGlzcGxheSgpO1xyXG5cclxuICAgIH0sIDEwMDApO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdwb21vZG9ybycpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdicmVhaycpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuc3RvcCA9ICgpID0+IHtcclxuICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBjbGVhckludGVydmFsKHRpbWVyTG9vcCk7XHJcbiAgICBpZiAodGhpcy5jdXJyZW50VGltZSA9PT0gMCkgdGltZXIuY2hhbmdlVGltZXIobmV3IFBvbW9kb3JvKHRpbWVyKSk7XHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVGltZXI7XHJcbmV4cG9ydCB7IFBvbW9kb3JvIH07XHJcbmV4cG9ydCB7IEJyZWFrIH07IiwiaW1wb3J0IHJlZ2lzdGVyU1cgZnJvbSAnLi9yZWdpc3RlclNlcnZpY2VXb3JrZXIuanMnO1xyXG5pbXBvcnQgc3RvcmVTZXJ2aWNlIGZyb20gJy4vc3RvcmVTZXJ2aWNlLmpzJztcclxuaW1wb3J0IG9ic2VydmFibGUgZnJvbSAnLi9vYnNlcnZhYmxlLmpzJztcclxuaW1wb3J0IHtcclxuICB1cGRhdGVTZXNzaW9uTGVuZ3RoRGlzcGxheSxcclxuICB1cGRhdGVCcmVha0xlbmd0aERpc3BsYXksXHJcbiAgdXBkYXRlU2V0dGluZ1xyXG59IGZyb20gJy4vdXBkYXRlU2V0dGluZy5qcyc7XHJcbmltcG9ydCB7IGRpc2FibGVCdG4gfSBmcm9tICcuL3V0aWxzLmpzJztcclxuaW1wb3J0IFRpbWVyIGZyb20gJy4vdGltZXIuanMnO1xyXG5cclxuaW1wb3J0ICcuLi9zdHlsZXMvbWFpbi5zY3NzJztcclxuXHJcbmNvbnN0ICR0aW1lclNldHRpbmdzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZXR0aW5ncy10aW1lJykpO1xyXG5jb25zdCAkc3RhcnRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhcnQnKTtcclxuY29uc3QgJHN0b3BCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RvcCcpO1xyXG5jb25zdCAkcmVzZXRCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQnKTtcclxuY29uc3QgJHRpbWVyVG9nZ2xlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZS10aW1lcicpO1xyXG5jb25zdCAkY291bnRkb3duRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb3VudGRvd24nKTtcclxuXHJcbmNvbnN0IHNlc3Npb25MZW5ndGggPSBvYnNlcnZhYmxlKCk7XHJcbmNvbnN0IGJyZWFrTGVuZ3RoID0gb2JzZXJ2YWJsZSgpO1xyXG5cclxuc2Vzc2lvbkxlbmd0aC5zdWJzY3JpYmUodXBkYXRlU2Vzc2lvbkxlbmd0aERpc3BsYXkpO1xyXG5icmVha0xlbmd0aC5zdWJzY3JpYmUodXBkYXRlQnJlYWtMZW5ndGhEaXNwbGF5KTtcclxuXHJcbnNlc3Npb25MZW5ndGguc3Vic2NyaWJlKHN0b3JlU2VydmljZS5zZXNzaW9uKTtcclxuYnJlYWtMZW5ndGguc3Vic2NyaWJlKHN0b3JlU2VydmljZS5icmVhayk7XHJcblxyXG5jb25zdCBBcHBUaW1lciA9IG5ldyBUaW1lcigkY291bnRkb3duRWxlbWVudCk7XHJcblxyXG5zZXNzaW9uTGVuZ3RoLnN1YnNjcmliZShBcHBUaW1lci5zZXRTZXNzaW9uRHVyYXRpb24pO1xyXG5zZXNzaW9uTGVuZ3RoKHN0b3JlU2VydmljZS5zZXNzaW9uKCkpO1xyXG5icmVha0xlbmd0aC5zdWJzY3JpYmUoQXBwVGltZXIuc2V0QnJlYWtEdXJhdGlvbik7XHJcbmJyZWFrTGVuZ3RoKHN0b3JlU2VydmljZS5icmVhaygpKTtcclxuXHJcbiR0aW1lclNldHRpbmdzLmZvckVhY2goZWwgPT4ge1xyXG4gIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgIGlmIChlLnRhcmdldC5ub2RlTmFtZSA9PT0gJ0JVVFRPTicgJiYgIUFwcFRpbWVyLmlzUnVubmluZygpKSB7XHJcbiAgICAgIHN3aXRjaCAodGhpcy5pZCkge1xyXG4gICAgICAgIGNhc2UgJ3Nlc3Npb24tc2V0dGluZyc6XHJcbiAgICAgICAgICB1cGRhdGVTZXR0aW5nKHNlc3Npb25MZW5ndGgsIGUudGFyZ2V0LmNsYXNzTGlzdFswXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdicmVhay1zZXR0aW5nJzpcclxuICAgICAgICAgIHVwZGF0ZVNldHRpbmcoYnJlYWtMZW5ndGgsIGUudGFyZ2V0LmNsYXNzTGlzdFswXSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcblxyXG4kc3RhcnRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgQXBwVGltZXIuc3RhcnQoKTtcclxuICBkaXNhYmxlQnRuKHRydWUsICdidG4nLCAkc3RvcEJ0bik7XHJcbn0pO1xyXG5cclxuJHN0b3BCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgQXBwVGltZXIuc3RvcCgpO1xyXG4gIGRpc2FibGVCdG4oZmFsc2UsICdidG4nLCAkc3RvcEJ0bik7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBlID0+IHtcclxuICBpZiAoZS53aGljaCA9PT0gMzIgJiYgIUFwcFRpbWVyLmlzUnVubmluZygpKSB7XHJcbiAgICBBcHBUaW1lci5zdGFydCgpO1xyXG4gICAgZGlzYWJsZUJ0bih0cnVlLCAnYnRuJywgJHN0b3BCdG4pO1xyXG4gIH0gZWxzZSBpZiAoZS53aGljaCA9PT0gMzIgJiYgQXBwVGltZXIuaXNSdW5uaW5nKCkpIHtcclxuICAgIEFwcFRpbWVyLnN0b3AoKTtcclxuICAgIGRpc2FibGVCdG4oZmFsc2UsICdidG4nLCAkc3RvcEJ0bik7XHJcbiAgfSBlbHNlIGlmIChlLmFsdEtleSAmJiBlLndoaWNoID09PSA4MCkge1xyXG4gICAgQXBwVGltZXIudG9nZ2xlVGltZXIoKTtcclxuICB9IGVsc2UgaWYgKGUuYWx0S2V5ICYmIGUud2hpY2ggPT09IDgyKSB7XHJcbiAgICBBcHBUaW1lci5yZXNldCgpO1xyXG4gIH1cclxufSk7XHJcblxyXG4kcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBBcHBUaW1lci5yZXNldCgpKTtcclxuJHRpbWVyVG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gQXBwVGltZXIudG9nZ2xlVGltZXIoKSk7XHJcblxyXG5yZWdpc3RlclNXKCk7Il0sIm1hcHBpbmdzIjoiOzs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNKQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUNuQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDdkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FDOUhBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")}]);